window.onpageshow=function(e){e.persisted&&window.location.reload()};const hamburgerMenu=document.querySelector(".hamburger-menu"),closeMenu=document.querySelector(".close-menu"),navbarOverlay=document.querySelector(".navbar-overlay"),navLinks=document.querySelectorAll(".nav-link");hamburgerMenu.addEventListener("click",()=>{navbarOverlay.classList.add("active")}),closeMenu.addEventListener("click",()=>{navbarOverlay.classList.remove("active")}),navLinks.forEach(e=>e.addEventListener("click",()=>{navbarOverlay.classList.remove("active")})),window.addEventListener("scroll",()=>{navbarOverlay.classList.remove("active")}),window.addEventListener("scroll",()=>{let e=document.querySelector("header");e.classList.toggle("active",window.scrollY>0)});const sections=document.querySelectorAll("section");function setActiveLinks(){let e=sections.length;for(;--e&&window.scrollY+97<sections[e].offsetTop;);navLinks.forEach(e=>e.classList.remove("active")),navLinks[e].classList.add("active")}setActiveLinks(),window.addEventListener("scroll",setActiveLinks),navLinks.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let a=e.getAttribute("href").substring(1),l=document.getElementById(a);l&&l.scrollIntoView({behavior:"smooth",block:"start"})})});const openModalCv=document.querySelector(".curriculum-btn"),closeModalCv=document.querySelector(".close-modal-cv"),modalCv=document.getElementById("modal-cv"),buttonsDownloadCv=document.querySelectorAll(".button-download-cv");openModalCv.addEventListener("click",()=>{modalCv.classList.add("active")}),closeModalCv.addEventListener("click",()=>{modalCv.classList.remove("active")}),modalCv.addEventListener("click",()=>{modalCv.classList.remove("active")}),buttonsDownloadCv.forEach(e=>{e.addEventListener("click",()=>{modalCv.classList.remove("active")})});const questions=document.querySelectorAll(".question");questions.forEach(e=>{e.addEventListener("click",()=>{let t=0,a=e.nextElementSibling;e.parentElement.parentElement.classList.toggle("add-padding"),e.children[1].classList.toggle("rotate-arrow"),0===a.clientHeight&&(t=a.scrollHeight),a.style.height=`${t}px`})});const form=document.getElementById("form"),inputs=document.querySelectorAll("#form input"),inputName=document.getElementById("input-name"),inputEmail=document.getElementById("input-email"),textarea=document.getElementById("textarea"),textareaCharacters=document.getElementById("textarea-characters"),alertName=document.getElementById("alert-name"),alertEmail=document.getElementById("alert-email"),alertTextarea=document.getElementById("alert-textarea"),modalContact=document.getElementById("modal-contact"),modalContactLoader=document.getElementById("modal-contact-loader"),modalContactSuccess=document.getElementById("modal-contact-success"),modalContactError=document.getElementById("modal-contact-error"),closeModalContact=document.querySelectorAll(".close-modal-contact"),expName=/^[\S][A-Za-zÀ-ÿ\s']+$/,expEmail=/^[-\w.%+]{1,64}@(?:[A-Z0-9-]{4,63}\.){1,125}(com|net|org|edu|gov|mil|biz|info|mobi|name|aero|asia|jobs|museum)\b$/i,expMessage=/^[\s\S]{9,500}$/,state={name:!1,email:!1,textarea:!1};function validateRegularExpressions(e){let t=e.target.parentElement.querySelector(".check");switch(e.target.id){case"input-name":expName.test(e.target.value)?(alertName.classList.remove("active"),t.classList.add("active"),state.name=!0):(alertName.classList.add("active"),t.classList.remove("active"),state.name=!1);break;case"input-email":expEmail.test(e.target.value)?(alertEmail.classList.remove("active"),t.classList.add("active"),state.email=!0):(alertEmail.classList.add("active"),t.classList.remove("active"),state.email=!1);break;case"textarea":expMessage.test(e.target.value)?(alertTextarea.classList.remove("active"),t.classList.add("active"),state.textarea=!0):(alertTextarea.classList.add("active"),t.classList.remove("active"),state.textarea=!1)}}function characterCounter(){let e=textarea.value.length;textareaCharacters.innerHTML=`${e}/500`}inputName.addEventListener("input",()=>{inputName.value=inputName.value.replace(/^\s+/g,"").replace(/\s+/g," ")}),inputEmail.addEventListener("input",()=>{inputEmail.value=inputEmail.value.trim()}),textarea.addEventListener("input",()=>{textarea.value=textarea.value.replace(/^\s+/g,"")}),inputs.forEach(e=>{e.addEventListener("blur",validateRegularExpressions)}),textarea.addEventListener("blur",validateRegularExpressions),textarea.addEventListener("input",characterCounter),form.addEventListener("submit",e=>{e.preventDefault();let t=null;if(state.name||(alertName.classList.add("active"),inputName.focus(),t=inputName),state.email||t||(alertEmail.classList.add("active"),inputEmail.focus(),t=inputEmail),state.textarea||t||(alertTextarea.classList.add("active"),textarea.focus(),t=textarea),t){let a=t.getBoundingClientRect();window.scrollTo({top:a.top+window.scrollY-100,behavior:"smooth"}),t.focus();return}state.name&&state.email&&state.textarea&&(modalContact.classList.add("active"),emailjs.sendForm("service_c3wl15o","template_jgw4yri","#form","hUS51mu8VJq2dQccV").then(()=>{setTimeout(()=>{modalContactLoader.style.display="none",modalContactSuccess.style.display="block",form.reset()},3e3)},e=>{setTimeout(()=>{modalContactLoader.style.display="none",modalContactError.style.display="block",form.reset()},3e3),console.log(e)}))}),closeModalContact.forEach(e=>{e.addEventListener("click",()=>{e.classList.remove("active"),location.href="index.html"})});