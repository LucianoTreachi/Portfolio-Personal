const header=document.querySelector("header"),sections=document.querySelectorAll("section"),hamburgerButton=document.querySelector(".hamburger-button"),closeMenuButton=document.querySelector(".close-menu-button"),navbar=document.querySelector(".navbar"),navLinks=document.querySelectorAll(".nav-link"),overlay=document.querySelector(".overlay"),details=document.querySelectorAll("details");function setActiveLink(){let e=sections.length;for(;--e&&window.scrollY+50<sections[e].offsetTop;);navLinks.forEach(e=>e.classList.remove("active")),e>0&&navLinks.forEach(t=>{t.getAttribute("href")==="#"+sections[e].id&&t.classList.add("active")})}hamburgerButton.addEventListener("click",()=>{navbar.classList.add("active"),overlay.classList.add("active"),hamburgerButton.setAttribute("aria-expanded","true"),hamburgerButton.setAttribute("aria-hidden","true"),navLinks[0].focus()}),closeMenuButton.addEventListener("click",()=>{navbar.classList.remove("active"),overlay.classList.remove("active"),hamburgerButton.setAttribute("aria-expanded","false"),hamburgerButton.setAttribute("aria-hidden","false"),hamburgerButton.focus()}),overlay.addEventListener("click",()=>{navbar.classList.remove("active"),overlay.classList.remove("active"),hamburgerButton.setAttribute("aria-expanded","false"),hamburgerButton.setAttribute("aria-hidden","false")}),navLinks.forEach(e=>{e.addEventListener("click",()=>{navbar.classList.remove("active"),overlay.classList.remove("active"),hamburgerButton.setAttribute("aria-expanded","false"),hamburgerButton.setAttribute("aria-hidden","false")}),e.addEventListener("keydown",t=>{"Enter"===t.key&&e.click()})}),window.addEventListener("scroll",()=>{navbar.classList.remove("active"),overlay.classList.remove("active"),hamburgerButton.setAttribute("aria-expanded","false"),hamburgerButton.setAttribute("aria-hidden","false")}),window.addEventListener("scroll",()=>{header.classList.toggle("active",window.scrollY>0)}),window.addEventListener("scroll",setActiveLink),navLinks.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.getAttribute("href").substring(1),a=document.getElementById(r);a&&(a.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{a.setAttribute("tabindex","-1"),a.focus(),a.addEventListener("blur",()=>{a.removeAttribute("tabindex")},{once:!0})},1e3))}),e.addEventListener("keydown",t=>{if("Enter"===t.key){t.preventDefault();let r=e.getAttribute("href").substring(1),a=document.getElementById(r);a&&(a.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{a.setAttribute("tabindex","-1"),a.focus(),a.addEventListener("blur",()=>{a.removeAttribute("tabindex")},{once:!0})},1e3))}})}),details.forEach(e=>{e.addEventListener("toggle",function(t){if(t.target.open){let r=e.querySelector(".answer");r&&r.focus()}})});